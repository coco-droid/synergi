<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Lato'><link rel="stylesheet" href="./style.css">
<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
<!-- partial:index.partial.html -->
<div class="--dark-theme" id="chat" style="display: none;">
    <div class="chat__conversation-board " >
      </div>
  <div class="chat__conversation-panel">
    <div class="chat__conversation-panel__container">
      <button class="chat__conversation-panel__button panel-item btn-icon add-file-button">
        <svg class="feather feather-plus sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
      </button>
      <button class="chat__conversation-panel__button panel-item btn-icon emoji-button">
        <svg class="feather feather-smile sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
          <line x1="9" y1="9" x2="9.01" y2="9"></line>
          <line x1="15" y1="9" x2="15.01" y2="9"></line>
        </svg>
      </button>
      <input class="chat__conversation-panel__input panel-item" placeholder="Type a message..."/>
      <button class="chat__conversation-panel__button panel-item btn-icon send-message-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-reactid="1036">
          <line x1="22" y1="2" x2="11" y2="13"></line>
          <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
        </svg>
      </button>
    </div>
  </div>
</div>
<div class="--dark-theme first" >
  <div style="text-align: center; display:flex; flex-direction:column; justify-content:center; align-items: center;">
    <span></span><img style="width: 150px; height:150px;" src="preview.png"/></span>
    <span style="text-align: center; color:#fff;">Synergi</span>
  </div>
<div   class="bubble_box">
 <div class="bubble__context">
   <div class="bubble_text"> <span>Welcome to Synergi! 👋 I'm your personal AI assistant ready to help boost your productivity.</span></div>
 </div>
</div>
<div class="bubble_box">
 <div class="bubble__context">
   <div class="bubble_text"> <span>I can understand natural language requests and accomplish tasks like:

     Scheduling meetings 🗓️
     Taking notes 📝
     Setting reminders ⏰
     Searching the web 🔎
     Automating workflows 🤖
     And more!
     Over time, I'll get to know your preferences and adapt my suggestions to suit your needs. Just talk to me like a friend!
     
     My code is open source and always improving thanks to contributors. Please provide any feedback to make me more useful!
     
     Let's get started - how can I help you today? 😊</span></div>
 </div>
</div>
<button class="btn">Start</button>
</div>
<!-- partial -->
  <script  src="./script.js"></script>
<script>
  // Client side 
const socket = io('http://localhost:5000');

socket.on('connect', () => {
  console.log('Connected to server');
});
// Listen for event
socket.on('message', (data) => {
  displayMessage(data,'bot');
});
//function send message
function sendMessage() {
  //get message from input
  const message = document.querySelector('.chat__conversation-panel__input').value;
  //check if message is empty
  if (!message) return;
  //display message in the chat
  displayMessage({message: message}, 'user');
  //emit message to server
  socket.emit('message', {sendMessage: message});
  //clear input
  document.querySelector('.chat__conversation-panel__input').value = '';
}
//function display message
function displayMessage(data, type) {
  if(type=="bot"){
  //display message in the chat
   document.querySelector('.chat__conversation-board').innerHTML += `
   <div class="chat__conversation-board__message-container">
          <div class="chat__conversation-board__message__person">
            <div class="chat__conversation-board__message__person__avatar"></div><span class="chat__conversation-board__message__person__nickname">Monika Figi</span>
          </div>
          <div class="chat__conversation-board__message__context">
            <div class="chat__conversation-board__message__bubble"> <span style=" background-color: #9991f698;">${data.message}</span></div>
          </div>
          <div class="chat__conversation-board__message__options">
            <button class="btn-icon chat__conversation-board__message__option-button option-item emoji-button">
              <svg class="feather feather-smile sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                <line x1="9" y1="9" x2="9.01" y2="9"></line>
                <line x1="15" y1="9" x2="15.01" y2="9"></line>
              </svg>
            </button>
            <button class="btn-icon chat__conversation-board__message__option-button option-item more-button">
              <svg class="feather feather-more-horizontal sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="19" cy="12" r="1"></circle>
                <circle cx="5" cy="12" r="1"></circle>
              </svg>
            </button>
          </div>
        </div>`
      }
      else{
        document.querySelector('.chat__conversation-board').innerHTML += ` <div class="chat__conversation-board__message-container reversed">
          <div class="chat__conversation-board__message__person">
            <span class="chat__conversation-board__message__person__nickname">Dennis Mikle</span>
          </div>
          <div class="chat__conversation-board__message__context">
            <div class="chat__conversation-board__message__bubble"> <span style="background-color:#f52cf580;">${data.message}</span></div>
          </div>
          <div class="chat__conversation-board__message__options">
            <button class="btn-icon chat__conversation-board__message__option-button option-item emoji-button">
              <svg class="feather feather-smile sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                <line x1="9" y1="9" x2="9.01" y2="9"></line>
                <line x1="15" y1="9" x2="15.01" y2="9"></line>
              </svg>
            </button>
            <button class="btn-icon chat__conversation-board__message__option-button option-item more-button">
              <svg class="feather feather-more-horizontal sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="19" cy="12" r="1"></circle>
                <circle cx="5" cy="12" r="1"></circle>
              </svg>
            </button>
          </div>
        </div>`
      }
}
//listen for click on send message button
document.querySelector('.send-message-button').addEventListener('click', sendMessage);
document.querySelector('.btn').addEventListener('click', function(){
  document.querySelector('.first').style.display = "none";
  document.querySelector('#chat').style.display = "block";
}

);
</script>
</body>
</html>
